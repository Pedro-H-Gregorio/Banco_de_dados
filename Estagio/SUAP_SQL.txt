CREATE TABLE EMPRESA (
  CNPJ INTEGER PRIMARY KEY,
  REPRESENTANTE VARCHAR,
  ENDERECO VARCHAR,
  TELEFONE VARCHAR,
  EMAIL VARCHAR
);

CREATE TABLE BANCA (
  ID SERIAL PRIMARY KEY,
  PROFESSORES VARCHAR,
  APROVADO BOOLEAN,
  DATA DATE
);

CREATE TABLE SUPERVISOR(
  ID SERIAL PRIMARY KEY,
  NOME VARCHAR
);

CREATE TABLE ORIENTADOR (
  MATRICULA SERIAL PRIMARY KEY,
  NOME VARCHAR
);

CREATE TABLE CONVENIO_IFPB (
  ID SERIAL PRIMARY KEY,
  DATA_INICIAL DATE,
  DATA_FINAL DATE,
  EMPRESA_CNPJ INTEGER,
  FOREIGN KEY (EMPRESA_CNPJ) REFERENCES EMPRESA(CNPJ)
);

CREATE TABLE ESTAGIO_OBRIGATORIO (
  ID SERIAL PRIMARY KEY,
  CARGA_HORARIA_TOTAL VARCHAR,
  DATA_DE_INICIO DATE,
  DATA_DE_TERMINO DATE,
  VALOR_DA_BOLSA FLOAT,
  VALOR_AUXILIO_TRANSPORTE FLOAT,
  EMPRESA_CNPJ INTEGER,
  BANCA_ID INTEGER,
  ORIENTADOR_MATRICULA INTEGER,
  SUPERVISOR_ID INTEGER,
  FOREIGN KEY (EMPRESA_CNPJ) REFERENCES EMPRESA(CNPJ),
  FOREIGN KEY (BANCA_ID) REFERENCES BANCA(ID),
  FOREIGN KEY (ORIENTADOR_MATRICULA) REFERENCES ORIENTADOR(MATRICULA),
  FOREIGN KEY (SUPERVISOR_ID) REFERENCES SUPERVISOR(ID)
);

CREATE TABLE ESTAGIO_NAO_OBRIGATORIO (
  ID SERIAL PRIMARY KEY,
  CARGA_HORARIA_TOTAL VARCHAR,
  DATA_DE_INICIO DATE,
  DATA_DE_TERMINO DATE,
  VALOR_DA_BOLSA FLOAT,
  VALOR_AUXILIO_TRANSPORTE FLOAT,
  ORIENTADOR_MATRICULA INTEGER,
  SUPERVISOR_ID INTEGER,
  FOREIGN KEY (ORIENTADOR_MATRICULA) REFERENCES ORIENTADOR(MATRICULA),
  FOREIGN KEY (SUPERVISOR_ID) REFERENCES SUPERVISOR(ID)
);

CREATE TABLE ALUNO (
  MATRICULA SERIAL PRIMARY KEY,
  NOME VARCHAR(50),
  ESTAGIO_OBRIGATORIO_ID INTEGER,
  FOREIGN KEY (ESTAGIO_OBRIGATORIO_ID) REFERENCES ESTAGIO_OBRIGATORIO(ID)
);

CREATE TABLE EMPRESA_ESTAGIO_NAO_OBRIGATORIO (
  EMPRESA_CNPJ INTEGER,
  ESTAGIO_NAO_OBRIGATORIO_ID INTEGER,
  FOREIGN KEY (EMPRESA_CNPJ) REFERENCES EMPRESA(CNPJ),
  FOREIGN KEY (ESTAGIO_NAO_OBRIGATORIO_ID) REFERENCES ESTAGIO_NAO_OBRIGATORIO(ID)
);

CREATE TABLE ALUNO_ESTAGIO_NAO_OBRIGATORIO (
  ALUNO_MATRICULA INTEGER,
  ESTAGIO_NAO_OBRIGATORIO_ID INTEGER,
  FOREIGN KEY (ALUNO_MATRICULA) REFERENCES ALUNO(MATRICULA),
  FOREIGN KEY (ESTAGIO_NAO_OBRIGATORIO_ID) REFERENCES ESTAGIO_NAO_OBRIGATORIO(ID)
);